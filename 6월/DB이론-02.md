# DB이론02

## 1. 정규화와 성능
- 테이블을 쪼개는 것
- 성능 측면
### 성능 데이터 모델링
- 1. 요구사항 수집 및 분석
- 2. 데이터 모델 설계
- 3. 성능 분석
- 4. 최적화
###  성능 데이터 모델링은 분석/설계 단계에서 고려해야함
- 1) 정규화를 정확히 수행
- 2) 용량 산정
- 3) 트랜잭션의 유형
- 4) 용량과 트랜잭션의 유형에 따라 반정규화 ***
- 5) 이력모델 조정, PK, FK 조정, 슈퍼타입
- 6) 데이터 모델을 검증

### 정규화란
- 정규화는 DB 설계과정에서 중복을 최소화하고 효율적인 구조를 갖도록 구조화하는 과정
- 데이터 중복, 갱신 이상(업데이트 이상, 삽입 이상, 삭제 이상) 를 최소화하는데 도움이 됨
- 정규화를 하면 IUD는 무조건 성능 향상이 됨
- 조회는 좋아질수도 있고 나빠질 수도 있음
- JOIN은 곱연산이라 조회성능이 떨어짐
- 즉 성능테스트를 해봐야 조회 성능을 알 수 있음

### 정규화가 성능에 영향을 미치는 이유
- 1) 중복 최소화
  - 게시판 (글번호, `X작성자X`, 내용, 계정)
- 2) 데이터 무결성 보장
  - 데이터가 일관적임, not null 필수값
- 3) 디스크 공간 효율성
- 4) 트랜잭션 성능 향상
#### 주의사항 
- 조인연산으로 정규화로 인해 저하될 수도 있음

### 정규화 관련 용어
- 결정자가 종속자를 가짐

### 정규화 유형
- 1NF
- 2NF
- 3NF
- BCNF
- 4NF
- 5NF
#### 1정규형을 위반한 사례 - 1정규화 대상
- 재고테이블에 재고번호, 재고명, 1개월, 2개월...
- 과목컬럼에 수학, 과학
- 데이터를 풀어놓음
- 1칸에 1개씩 해라
#### 제2정규형을 위반한 사례 - 제 2정규형 대상
- PK가 여러개있을 때
- 모든 비키 속성이 기본키에 완전히 함수적 종속이 되어야하는 것
- 과목은 결정자, 교수는 종속자
- 과목을 알면 교수의 특정자를 알 수 있음
- 학생과 과목 테이블, 과목과 교수 테이블로 나눔
- 종속시킨것 끼리 나가
#### 제3정규형을 위반한 사례 - 제 3정규화 대상
- 모든 비키 속성이 기본키에 대해 이행적 함수적 종속이 없어야한 다는 것
- 즉 비키가 결정자가 되면 안됨
- 비키들끼리 종속성 놀이를 함 (나가야함)

### 반정규화
- DB 설계에서 사용되는 전략 중 하나
- 의도적으로 중복데이터를 넣음
- `조회`작업의 성능을 향상 시키기 위해 각 테이블에서 중복 데이터를 허용함
- 반정규화는 난이도가 높기 때문에 절차를 잘 거친뒤 함

## 데이터 모델과 성능
- 수평 분할
- 수직 분할
- 성능 향상 및 관리 용이, 효율적인 제어
- 